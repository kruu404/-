
# 第一章 操作系统引论
## （1）操作系统的基本特征
1. 并发（最基本）：两个或多个事件在同一时间间隔内发生
2. 共享（最基本）：系统中的资源可以供内存中多个并发执行的进程共同使用（分为互斥共享和同时访问方式）
3. 虚拟：通过某种技术把一个物理实体变为若干个逻辑上的对应物，用于实现虚拟的技术称为虚拟技术（分为时分复用和空分复用技术）
  <br>但是会降低设备的访问速度
  <br>例：虚拟打印机，分时间用教室，楼盖多层
4. 异步：进程是以人们不可预知的速度向前推进

## （2）操作系统的主要功能
1.处理机管理功能
<br>①进程控制：为作业创建进程、撤销已结束进程、控制进程在运行过程中的状态转换
<br>②进程同步：为多个进程的运行进行协调，有进程互斥和进程同步两种协调方式
<br>③进程通信：在相互合作的进程之间的信息交换
<br>④调度：分为作业调度和进程调度
<br><br>2.存储器管理功能
<br>①内存分配：结构和功能分为内存分配数据结构（记录内存空间使用情况）、内存分配功能（按内存分配算法来分配内存空间）、内存回收功能（不需要的内存应通过用户释放请求回收），方式分为静态和动态
<br>例：教室容量不够学生时如何分配座位
<br>②内存保护：确保每道用户程序都只在自己的内存空间内运行，方法可设置两个界限寄存器（检查地址是否越界）
<br>③地址映射：将地址空间中的逻辑地址转换为内存空间中与之对应的物理地址
<br>④内存扩充：借助虚拟存储技术从逻辑上扩充内存容量，用于实现——
<br>请求调入功能：继续运行时所需程序和数据尚未装入内存时可以向OS发出请求把它们从磁盘调入内存
<br>置换功能：内存空间不够时把内存中一部分暂时不用的程序和数据调至硬盘，需要的装入内存
<br><br>3.设备管理功能
<br>任务：完成用户进程提出的I/O请求，为用户进程分配所需的io设备并完成指定的io操作；提高CPU和io设备利用率，提高io速度，方便用户使用io设备
<br>功能：
<br>①缓冲管理：管理在io设备和cpu之间引入的缓冲区
<br>②设备分配
<br>③设备处理：实现cpu和设备控制器之间的通信
<br>④虚拟设备
<br><br>4.文件管理功能
<br>①文件存储空间的管理：由文件系统对诸多文件及文件的存储空间实施统一的管理，以此为每个文件分配必要的外存空间，提高外存利用率，有助于提高文件系统的运行速度
<br>②目录管理：为每个文件建立一个目录项，管理即对目录项进行操作
<br>③文件的读/写管理和保护：根据用户请求，从外存读取数据或将数据写入外存，同时文件保护，有权限才能访问文件
<br><br>5.操作系统与用户之间的借口
<br>①用户接口：分为联机用户接口、脱机用户接口和图形用户接口
<br>②程序接口

## 例题
①与宏内核操作系统相比，微内核操作系统具有：较高的可靠性、较高的安全性、较强的可扩展性（微内核：包含最基本的功能如进程、存储器、进程通信、io设备管理，缺点在于效率）

# 第二章 进程管理

## 一、进程的一些概念
### （1）程序的顺序执行：仅当前一操作（程序段）执行完后，才能执行后继操作
### （2）前驱图：有向无循环图，描述进程之间执行的前后关系（pi->pj，称pi是pj的直接前趋，pj是pi的直接后继），考试不考但要能看懂
### （3）顺序执行和并发执行
#### 顺序执行时的特征：<br>①顺序性<br>②封闭性：独占全机资源，结果不受外界影响<br>③可再现性：相同条件下重复执行结果不变
#### 并发执行时的特征：<br>①间断性<br>②失去封闭性<br>③不可再现性
### （4）定义：进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位
### （5）特征：结构特征（PCB）、动态性（最基本特征）、并发性（多个进程同时进行）、独立性、异步性

## 二、进程
### （1）进程的创建
1. 申请空白PCB  
2. 为新进程分配资源  
3. 初始化进程控制模块  
4. 将新进程插入就绪队列  

### （2）引起创建进程的事件
1. 用户登录后  
2. 作业调度  
3. 操作系统提供服务  
4. 进程本身应用请求  
   ps：启动程序执行时

### （3）五种进程基本状态及其转换
#### ·阻塞之后不能直接恢复执行，需要先到就绪
#### ·执行时时间片完但进程没完成的话会先回到就绪，进程完成的话进程会终止
![进程的五种基本状态.jpg](https://github.com/user-attachments/assets/4ba8ec69-6003-43f3-84f0-c6619ac46cf1)

### （4）挂起状态（了解即可，考研未见过相关考点）
#### 原因：终端用户请求、父进程请求、负荷调节需要、操作系统需要
#### 活动是在内存中的，静止是外存中的，优先挂起阻塞态，执行只能在内存
![挂起.jpg](https://github.com/user-attachments/assets/46a69890-ba56-472b-b4b3-21e3d740e695)

### （5）终止
1. 根据被中止进程的标识符从PCB集合中检索出该进程的PCB，从中读出该进程的状态  
2. 终止该进程并置调度标志为真，用于指示该进程被终止后应重新进行调度  
3. 终止所有子孙进程  
4. 该进程所有资源归还给其父进程或系统  
5. 将被终止进程（它的PCB）从所在队列（or链表）中移出  

### （6）阻塞与唤醒
#### 引起进程阻塞和唤醒的事件
1. 向系统请求共享资源失败  
2. 等待某种操作的完成  
3. 新数据尚未到达  
4. 无新工作可做  

#### 阻塞过程
（通过调用阻塞原语block把自己阻塞）：  
中断CPU执行，把CPU当前状态保存在PCB现场信息中，把进程当前状态置为阻塞状态，并把它插入该事件的等待队列  

#### 唤醒过程
（有关进程调用唤醒原语wakeup将等待该事件的进程唤醒）：  
把被阻塞进程从等待该事件的阻塞队列中移出，将其PCB中现行状态由阻塞改为就绪，将该PCB插入到就绪队列中